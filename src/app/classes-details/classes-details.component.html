<button  *ngIf= "!formAddActived" (click)="openSudentAdd()"  class="btn btn-success">Add Student</button>
<div class="container" *ngIf= "formAddActived">
  <h1></h1>
  <div class="col-sm-12" >
    <h1></h1>
    <form class="col-sm-3">
      <div class="form-group">
        <div class="label">Last Name</div>
        <input type="text" [(ngModel)]="lastName" name="lastName" class="form-control">
      </div>
  
      <div class="form-group ">
        <div class="label">First Name</div>
        <input type="text" [(ngModel)]="firstName" name="firstName" class="form-control">
      </div>
  
      <div class="form-group">
        <div class="label">Class</div>
        <input type="text" [(ngModel)]="selectedClass" disabled name="class" class="form-control">
      </div>
    
    
    
      <div class="form-group">
        <button  (click)="addStudent()" type="button"  class="btn btn-success">Add new student</button>
      </div>
    </form>
  </div> 
</div>
<table mat-table [dataSource]=" filterStudents()" class="mat-elevation-z8">

  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->

  <!-- Position Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> No. </th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="lastName">
    <th mat-header-cell *matHeaderCellDef> Last Name </th>
    <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="firstName">
    <th mat-header-cell *matHeaderCellDef> First Name </th>
    <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="class">
    <th mat-header-cell *matHeaderCellDef> Class </th>
    <td mat-cell *matCellDef="let element"> {{element.class}} </td>
  </ng-container>
  <ng-container matColumnDef="actions">
    <mat-header-cell  *matHeaderCellDef > Actions </mat-header-cell>
    <mat-cell *matCellDef="let row " >
         <!-- <button mat-button   (click)="updateStudent(id)" >Edit</button>
         <button mat-button  (click)="deleteStudent(element.id)">Delete</button> -->

         <button  mat-icon-button (click)="updateStudent(row)" class="iconbutton" color="primary">
          <mat-icon aria-label="Edit">edit</mat-icon>
        </button>
      <button mat-icon-button (click)="deleteStudent(row)" class="iconbutton" color="warn">
          <mat-icon aria-label="Delete">delete</mat-icon>
        </button>
    </mat-cell>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<div *ngIf= "filterStudents().length === 0">
  <p>
    Y'a aucun eleve associe Ã  cette classe
  </p>
</div>

<div class="col-sm-12" *ngIf= "formUpdateActived">
  <h1></h1>
  <form class="col-sm-3">
    <div class="form-group">
      <div class="label">Last Name</div>
      <input type="text" [(ngModel)]="task_.lastName" name="lastName" class="form-control">
    </div>

    <div class="form-group ">
      <div class="label">First Name</div>
      <input type="text" [(ngModel)]="task_.firstName" name="firstName" class="form-control">
    </div>

    <div class="form-group">
      <div class="label">Class</div>
      <input type="text" [(ngModel)]="task_.class" name="class" class="form-control">
    </div>
  
  
  
    <div class="form-group">
      <button  (click)="changeStudent(task_.id)" type="button"  class="btn btn-success">Update student</button>
    </div>
  </form>
</div> 
